<div class="mail-request-container">
  <p-toast></p-toast>

  <!-- Header Section -->
  <div class="mail-header">
    <div class="header-content">
      <div class="mail-icon">
        <i class="pi pi-envelope"></i>
      </div>
      <div class="header-text">
        <h1>Mail Gönder</h1>
        <p>E-posta adresinizi girin ve hızlıca iletişime geçin</p>
      </div>
    </div>
  </div>

  <!-- Main Form Card -->
  <div class="mail-form-card">
    <div class="card-header">
      <h2>
        <i class="pi pi-send"></i>
        E-posta Gönderimi
      </h2>
      <p>Aşağıya e-posta adresinizi girin, size hemen dönüş yapalım</p>
    </div>

    <form [formGroup]="mailForm" (ngSubmit)="onSubmit()" class="mail-form">
      <!-- Email Input Section -->
      <div class="email-section">
        <div class="input-group">
          <div class="input-icon">
            <i class="pi pi-at"></i>
          </div>
          <div class="input-field">
            <label for="email" class="input-label">E-posta Adresi</label>
            <input 
              id="email"
              type="email" 
              pInputText 
              formControlName="email"
              placeholder="ornek@firma.com"
              [class.invalid]="isFieldInvalid('email')"
              class="email-input"
              autocomplete="email"
            />
            <div *ngIf="getFieldError('email')" class="error-message">
              <i class="pi pi-exclamation-triangle"></i>
              {{ getFieldError('email') }}
            </div>
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="submit-section">
        <p-button 
          type="submit"
          label="Mail Gönder"
          icon="pi pi-send"
          [loading]="isSubmitting"
          [disabled]="mailForm.invalid || isSubmitting"
          size="large"
          severity="primary"
          class="send-button"
        ></p-button>
      </div>
    </form>

    <!-- Success State -->
    <div *ngIf="isEmailSent" class="success-state">
      <div class="success-icon">
        <i class="pi pi-check-circle"></i>
      </div>
      <h3>Mail Başarıyla Gönderildi!</h3>
      <p>E-posta adresinize bir onay maili gönderildi.</p>
      <p-button 
        label="Yeni Mail Gönder"
        icon="pi pi-plus"
        severity="secondary"
        (click)="resetForm()"
        class="new-mail-button"
      ></p-button>
    </div>
  </div>

  <!-- Info Cards -->
  <div class="info-cards" *ngIf="!isEmailSent">
    <div class="info-card">
      <div class="card-icon secure">
        <i class="pi pi-shield"></i>
      </div>
      <div class="card-content">
        <h4>Güvenli</h4>
        <p>E-posta adresiniz güvenli şekilde korunur</p>
      </div>
    </div>

    <div class="info-card">
      <div class="card-icon fast">
        <i class="pi pi-bolt"></i>
      </div>
      <div class="card-content">
        <h4>Hızlı</h4>
        <p>Anında mail gönderimi gerçekleşir</p>
      </div>
    </div>

    <div class="info-card">
      <div class="card-icon support">
        <i class="pi pi-headset"></i>
      </div>
      <div class="card-content">
        <h4>Destek</h4>
        <p>7/24 müşteri desteği hazır</p>
      </div>
    </div>
  </div>
</div>